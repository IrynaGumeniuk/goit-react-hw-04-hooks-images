(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2bkPr"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},15:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},16:function(e,t,a){e.exports={App:"App_App__16ZpL"}},17:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},21:function(e,t,a){e.exports={loader:"Loader_loader__1j2Bs"}},28:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchFormButton:"Searchbar_SearchFormButton__21S85",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__8f9cn",SearchFormInput:"Searchbar_SearchFormInput__VhsfU"}},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),i=(a(28),a(10)),s=a.n(i),u=a(13),l=a(14),m=a(3),b=a(8),j=(a(30),a(4)),h=a.n(j),f=a(1);var d=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],o=r[1];return Object(f.jsx)("header",{className:h.a.Searchbar,children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):b.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438.")},className:h.a.SearchForm,children:[Object(f.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(f.jsx)("span",{className:h.a.SearchFormButtonLabel,children:"Search"})}),Object(f.jsx)("input",{className:h.a.SearchFormInput,type:"text",placeholder:"Search images and photos",name:"imgName",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},p=a(11),g=a.n(p),O=function(e){var t=e.src,a=e.largeImg;return Object(f.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(f.jsx)("img",{src:t,alt:"",className:g.a.ImageGalleryItemImage,"data-img":a,height:"240",width:"320"})})},_=a(15),x=a.n(_),I=function(e){var t=e.images,a=e.onImgClick;return Object(f.jsx)("ul",{className:x.a.ImageGallery,onClick:a,children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL;return Object(f.jsx)(O,{src:a,largeImg:n},t)}))})},v=a(16),S=a.n(v),y=a(2),w=a.n(y);function k(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("23089090-b881069149d08b76d7d8b0f8f","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("Not found any pictures with name ".concat(e)))}))}k.propTypes={searchQuery:w.a.string.isRequired,page:w.a.string.isRequired};var B={fetchImg:k},N=a(17),F=a.n(N),C=function(e){var t=e.onBtnClick,a=e.text;return Object(f.jsx)("button",{className:F.a.Button,type:"button",onClick:t,children:a})},G=a(12),L=a.n(G);function M(e){var t=e.onCloseModal,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(f.jsx)("div",{className:L.a.Overlay,onClick:t,children:Object(f.jsx)("div",{className:L.a.Modal,children:a})})}var E=a(18),R=a(19),A=a(23),T=a(22),q=(a(34),a(20)),D=a.n(q),J=a(21),P=a.n(J),U=function(e){Object(A.a)(a,e);var t=Object(T.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(R.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{className:P.a.loader,children:Object(f.jsx)(D.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}}]),a}(r.a.Component);var H=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(m.a)(c,2),i=o[0],j=o[1],h=Object(n.useState)([]),p=Object(m.a)(h,2),g=p[0],O=p[1],_=Object(n.useState)(!1),x=Object(m.a)(_,2),v=x[0],y=x[1],w=Object(n.useState)(""),k=Object(m.a)(w,2),N=k[0],F=k[1],G=Object(n.useState)(!1),L=Object(m.a)(G,2),E=L[0],R=L[1];Object(n.useEffect)((function(){if(a){var e=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(),e.abrupt("return",B.fetchImg(a,i).then((function(e){return O((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e.hits))}))})).finally((function(){return A()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[a,i]);var A=function(){y((function(e){return!e}))},T=function(){R((function(e){return!e}))};return Object(f.jsxs)("div",{className:S.a.App,children:[Object(f.jsx)(d,{onSubmit:function(e){r(e),j(1),O([])}}),Object(f.jsx)(I,{images:g,onImgClick:function(e){"IMG"===e.target.nodeName&&(F(e.target.dataset.img),T())}}),v&&Object(f.jsx)(U,{}),g.length>0&&!v&&Object(f.jsx)(C,{onBtnClick:function(){j((function(e){return e+1})),a&&(A(),setTimeout((function(){window.scrollBy({top:document.documentElement.clientHeight-160,behavior:"smooth"})}),800),A())},text:"Load more"}),Object(f.jsx)(b.a,{autoClose:3e3}),E&&Object(f.jsx)(M,{onCloseModal:T,children:Object(f.jsx)("img",{src:N,alt:"Modal"})})]})};o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(H,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.82502668.chunk.js.map